<!--
  Copyright 2015 Maker Collider

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<script type="text/javascript">
	RED.nodes.registerType('Geometry', {
		category: 'imageProcessing',
		color: '#E2D96E',
		defaults: {
			name:      {value: "Geometry", required: false},
		},
		inputs: 1,
		outputs: 2,
		icon: "light.png",
		label: function() {
			return this.name || "Geometry";
		}
	});
</script>

<script type="text/xred" data-template-name="Geometry">
	<div class="form-row">
		<label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
		<input type="text" id="node-input-name" placeholder="Name">
	</div>
</script>

<script type="text/xred" data-help-name="Geometry">
	<h3 id="几何图形识别"><a name="几何图形识别" href="#几何图形识别"></a>几何图形识别</h3>
	<p>本节点使用摄像头和OpenCV进行图形识别，在光照充足的情况下，可以识别正方形和圆形。</p>
	<h4 id="配置参数"><a name="配置参数" href="#配置参数"></a>配置参数</h4>
	<ol>
	<li>Name：节点名字</li></ol>
	<h4 id="输入"><a name="输入" href="#输入"></a>输入</h4>
	<ol>
	<li>msg.payload：开始检测</li></ol>
	<h4 id="输出"><a name="输出" href="#输出"></a>输出</h4>
	<ol>
	<li>msg.geometry：检测到的图形</li></ol>
	<h4 id="使用方法"><a name="使用方法" href="#使用方法"></a>使用方法</h4>
	<ol>
	<li>将摄像头插入Edison的USB口。</li><li>使用时，向节点传入<code>msg.geometry</code>消息，控制检测的开始与关闭。</li><li><code>msg.geometry</code>的值为0-1的整数，0为关闭检测，1为开始检测。</li><li>输出<code>msg.geometry</code>的值为0-2的整数，1为矩形，2为圆形，0为未知图形（通常不会出现）。</li></ol>
</script>


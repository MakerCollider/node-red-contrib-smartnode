<!--
  Copyright 2015 Maker Collider

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<script type="text/javascript">
    RED.nodes.registerType('Buzzer', {
        category: 'HardwareOutput',
        color: '#E2D96E',
        defaults: {
            name: {value: "Buzzer", required: false},
            pwmPin: {value: "3", required: false},
            tone: {value:"1",required: false}
        },
        inputs: 1,
        outputs: 1,
        icon: "light.png",
        label: function() {
            return this.name || "Buzzer";
        }
    });
</script>

<script type="text/x-red" data-template-name="Buzzer">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-pwmPin"><i class="fa fa-tag"></i> PWM Pin</label>
        <!--input type="number" id="node-input-pwmPin"-->
        <select id="node-input-pwmPin">
            <option value=3>3</option>
            <option value=5>5</option>
            <option value=6>6</option>
            <option value=9>9</option>
            <option value=10>10</option>
            <option value=11>11</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-tone"><i class="fa fa-tag"></i> Tone(1~7)</label>
        <input type="number" id="node-input-tone">
    </div>
</script>

<script type="text/x-red" data-help-name="Buzzer">
<h3 id="蜂鸣器节点">蜂鸣器节点</h3>

<p>本节点表示grove套件的蜂鸣器模块。</p>

<h4 id="参数配置">参数配置</h4>

<ol>
<li>Name：节点名称</li>
<li>PWM Pin：PWM引脚</li>
<li>Tone(1~7)：音调，范围为1~7</li>
</ol>

<h4 id="输入量">输入量</h4>

<ol>
<li>msg.payload：输入1或者0，1表示打开，0表示关闭</li>
</ol>

<h4 id="输出量">输出量</h4>

<ol>
<li>msg.payload：输出1或者0，1表示蜂鸣器响，0表示蜂鸣器关闭</li>
</ol>

<h4 id="使用方法">使用方法</h4>

<ol>
<li>配置好节点的每个参数，选择蜂鸣器发出的音调。</li>
<li>当输入<code>msg.payload</code>为1时，蜂鸣器响，蜂鸣器节点输出<code>msg.payload</code>为1，当输入<code>msg.payload</code>为0时，蜂鸣器关，蜂鸣器节点输出<code>msg.payload</code>为0。</li>
</ol>
</script>
